<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>Hello World</title>
 
<script>
//////////////////////////fileSystem
var fileSystem = {} ;


function fileErrorHandler(e) {
	  var msg = '';

	  switch (e.code) {
	    case FileError.QUOTA_EXCEEDED_ERR:
	      msg = 'QUOTA_EXCEEDED_ERR';
	      break;
	    case FileError.NOT_FOUND_ERR:
	      msg = 'NOT_FOUND_ERR';
	      break;
	    case FileError.SECURITY_ERR:
	      msg = 'SECURITY_ERR';
	      break;
	    case FileError.INVALID_MODIFICATION_ERR:
	      msg = 'INVALID_MODIFICATION_ERR';
	      break;
	    case FileError.INVALID_STATE_ERR:
	      msg = 'INVALID_STATE_ERR';
	      break;
	    default:
	      msg = 'Unknown Error';
	      break;
		}
	  console.error(msg);
msg(msg);
}


function onDeviceReady() {
console.log("ready");
msg("ready");
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFileSystemSuccess, fileErrorHandler);
 }

function onFileSystemSuccess(fs) {
	fileSystem = fs ;
	alert("fsn: "+fileSystem.name);
	alert("fpn: "+fileSystem.root.fullPath);
}

///////////////////////
function msg( msg) {
	var dom = document.getElementById( "msg");
	dom.innerHTML += "<br>"+msg ; 
}
</script>
 
 
    </head>
    <body>
    
Hello World
<br>
<button onclick="onDeviceReady();">odr</button><br>
<div id="msg">
</div>
<!--
        <script type="text/javascript" src="cordova.js"></script>
-->
        <script type="text/javascript">
msg("add");
        document.addEventListener('deviceready', onDeviceReady, false);
      //onDeviceReady() ;
      //consolelog("hello");
msg(">>lfs:"+typeof(LocalFileSystem));        
      </script>
    </body>
</html>
